{"filter":false,"title":"new.html.erb","tooltip":"/illust_cmmunity/app/views/illusts/new.html.erb","ace":{"folds":[],"scrolltop":1159.43408203125,"scrollleft":0,"selection":{"start":{"row":32,"column":14},"end":{"row":32,"column":14},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"48b32ff9addefecd70178a665a995672813fa50b","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":19,"column":11},"end":{"row":20,"column":14},"action":"remove","lines":[" <div class=\"field\">","              "],"id":786}],[{"start":{"row":21,"column":12},"end":{"row":22,"column":10},"action":"remove","lines":["</div>","          "],"id":787},{"start":{"row":21,"column":10},"end":{"row":21,"column":12},"action":"remove","lines":["  "]}],[{"start":{"row":21,"column":10},"end":{"row":21,"column":11},"action":"insert","lines":[" "],"id":788}],[{"start":{"row":20,"column":98},"end":{"row":20,"column":99},"action":"insert","lines":[" "],"id":789}],[{"start":{"row":20,"column":99},"end":{"row":20,"column":111},"action":"insert","lines":["custom-input"],"id":790}],[{"start":{"row":20,"column":56},"end":{"row":20,"column":57},"action":"remove","lines":["k"],"id":791},{"start":{"row":20,"column":55},"end":{"row":20,"column":56},"action":"remove","lines":["o"]},{"start":{"row":20,"column":54},"end":{"row":20,"column":55},"action":"remove","lines":["o"]},{"start":{"row":20,"column":53},"end":{"row":20,"column":54},"action":"remove","lines":["b"]}],[{"start":{"row":20,"column":53},"end":{"row":20,"column":54},"action":"insert","lines":["i"],"id":792},{"start":{"row":20,"column":54},"end":{"row":20,"column":55},"action":"insert","lines":["l"]},{"start":{"row":20,"column":55},"end":{"row":20,"column":56},"action":"insert","lines":["l"]},{"start":{"row":20,"column":56},"end":{"row":20,"column":57},"action":"insert","lines":["u"]},{"start":{"row":20,"column":57},"end":{"row":20,"column":58},"action":"insert","lines":["s"]},{"start":{"row":20,"column":58},"end":{"row":20,"column":59},"action":"insert","lines":["t"]}],[{"start":{"row":20,"column":53},"end":{"row":20,"column":59},"action":"remove","lines":["illust"],"id":793},{"start":{"row":20,"column":53},"end":{"row":20,"column":59},"action":"insert","lines":["illust"]}],[{"start":{"row":20,"column":53},"end":{"row":20,"column":54},"action":"insert","lines":["@"],"id":794}],[{"start":{"row":8,"column":48},"end":{"row":8,"column":65},"action":"remove","lines":["accept: \"image/*\""],"id":795},{"start":{"row":8,"column":48},"end":{"row":8,"column":64},"action":"insert","lines":[", multiple: true"]}],[{"start":{"row":8,"column":48},"end":{"row":8,"column":49},"action":"remove","lines":[","],"id":796},{"start":{"row":8,"column":47},"end":{"row":8,"column":48},"action":"remove","lines":[" "]}],[{"start":{"row":8,"column":46},"end":{"row":8,"column":47},"action":"insert","lines":["s"],"id":797}],[{"start":{"row":45,"column":19},"end":{"row":46,"column":0},"action":"insert","lines":["",""],"id":798},{"start":{"row":46,"column":0},"end":{"row":46,"column":10},"action":"insert","lines":["          "]},{"start":{"row":46,"column":10},"end":{"row":47,"column":0},"action":"insert","lines":["",""]},{"start":{"row":47,"column":0},"end":{"row":47,"column":10},"action":"insert","lines":["          "]},{"start":{"row":47,"column":10},"end":{"row":48,"column":0},"action":"insert","lines":["",""]},{"start":{"row":48,"column":0},"end":{"row":48,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":48,"column":10},"end":{"row":48,"column":12},"action":"insert","lines":["ID"],"id":799}],[{"start":{"row":48,"column":12},"end":{"row":48,"column":13},"action":"insert","lines":["を"],"id":800}],[{"start":{"row":48,"column":13},"end":{"row":48,"column":17},"action":"insert","lines":["特定して"],"id":801},{"start":{"row":48,"column":17},"end":{"row":48,"column":18},"action":"insert","lines":["ー"]}],[{"start":{"row":48,"column":18},"end":{"row":48,"column":19},"action":"insert","lines":["の"],"id":802}],[{"start":{"row":48,"column":19},"end":{"row":48,"column":22},"action":"insert","lines":["後から"],"id":803}],[{"start":{"row":48,"column":22},"end":{"row":48,"column":25},"action":"insert","lines":["-->"],"id":804},{"start":{"row":48,"column":10},"end":{"row":48,"column":14},"action":"insert","lines":["<!--"]}],[{"start":{"row":48,"column":26},"end":{"row":48,"column":31},"action":"insert","lines":["プレビュー"],"id":805}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":10},"action":"remove","lines":["          "],"id":806},{"start":{"row":47,"column":0},"end":{"row":47,"column":10},"action":"remove","lines":["          "]}],[{"start":{"row":8,"column":63},"end":{"row":8,"column":82},"action":"insert","lines":[", accept: \"image/*\""],"id":807}],[{"start":{"row":45,"column":19},"end":{"row":46,"column":0},"action":"insert","lines":["",""],"id":808},{"start":{"row":46,"column":0},"end":{"row":46,"column":10},"action":"insert","lines":["          "]},{"start":{"row":46,"column":10},"end":{"row":47,"column":0},"action":"insert","lines":["",""]},{"start":{"row":47,"column":0},"end":{"row":47,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":47,"column":10},"end":{"row":57,"column":9},"action":"insert","lines":["<img id=\"preview\" style=\"width:40%;\">","","<script>","  $('#post_image').on('change', function (e) {","    var reader = new FileReader();","    reader.onload = function (e) {","        $(\"#preview\").attr('src', e.target.result);","    }","    reader.readAsDataURL(e.target.files[0]);","});","</script>"],"id":809}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":2},"action":"insert","lines":["  "],"id":810},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":2},"action":"insert","lines":["  "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":2},"action":"insert","lines":["  "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":2},"action":"insert","lines":["  "],"id":811},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":2},"action":"insert","lines":["  "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":2},"action":"insert","lines":["  "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":2},"action":"insert","lines":["  "],"id":812},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":2},"action":"insert","lines":["  "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":2},"action":"insert","lines":["  "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":2},"action":"insert","lines":["  "],"id":813},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":2},"action":"insert","lines":["  "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":2},"action":"insert","lines":["  "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":2},"action":"insert","lines":["  "],"id":814},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":2},"action":"insert","lines":["  "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":2},"action":"insert","lines":["  "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":57,"column":0},"end":{"row":57,"column":2},"action":"insert","lines":["  "],"id":815}],[{"start":{"row":57,"column":2},"end":{"row":57,"column":4},"action":"insert","lines":["  "],"id":816}],[{"start":{"row":57,"column":4},"end":{"row":57,"column":6},"action":"insert","lines":["  "],"id":817}],[{"start":{"row":57,"column":6},"end":{"row":57,"column":8},"action":"insert","lines":["  "],"id":818}],[{"start":{"row":57,"column":8},"end":{"row":57,"column":10},"action":"insert","lines":["  "],"id":819}],[{"start":{"row":50,"column":19},"end":{"row":50,"column":20},"action":"remove","lines":["t"],"id":820},{"start":{"row":50,"column":18},"end":{"row":50,"column":19},"action":"remove","lines":["s"]},{"start":{"row":50,"column":17},"end":{"row":50,"column":18},"action":"remove","lines":["o"]},{"start":{"row":50,"column":16},"end":{"row":50,"column":17},"action":"remove","lines":["p"]}],[{"start":{"row":50,"column":16},"end":{"row":50,"column":17},"action":"insert","lines":["i"],"id":821},{"start":{"row":50,"column":17},"end":{"row":50,"column":18},"action":"insert","lines":["l"]},{"start":{"row":50,"column":18},"end":{"row":50,"column":19},"action":"insert","lines":["l"]},{"start":{"row":50,"column":19},"end":{"row":50,"column":20},"action":"insert","lines":["u"]},{"start":{"row":50,"column":20},"end":{"row":50,"column":21},"action":"insert","lines":["s"]},{"start":{"row":50,"column":21},"end":{"row":50,"column":22},"action":"insert","lines":["t"]}],[{"start":{"row":50,"column":16},"end":{"row":50,"column":22},"action":"remove","lines":["illust"],"id":822},{"start":{"row":50,"column":16},"end":{"row":50,"column":22},"action":"insert","lines":["illust"]}],[{"start":{"row":8,"column":34},"end":{"row":8,"column":35},"action":"insert","lines":["i"],"id":823},{"start":{"row":8,"column":35},"end":{"row":8,"column":36},"action":"insert","lines":["l"]},{"start":{"row":8,"column":36},"end":{"row":8,"column":37},"action":"insert","lines":["l"]}],[{"start":{"row":8,"column":34},"end":{"row":8,"column":37},"action":"remove","lines":["ill"],"id":824},{"start":{"row":8,"column":34},"end":{"row":8,"column":40},"action":"insert","lines":["illust"]}],[{"start":{"row":8,"column":40},"end":{"row":8,"column":41},"action":"insert","lines":["_"],"id":825}],[{"start":{"row":58,"column":0},"end":{"row":70,"column":0},"action":"insert","lines":["          ","          <!--<img id=\"preview\" style=\"width:40%;\">-->","","          <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->","          <!--    reader.onload = function (e) {-->","          <!--        $(\"#preview\").attr('src', e.target.result);-->","          <!--    }-->","          <!--    reader.readAsDataURL(e.target.files[0]);-->","          <!--});-->","          <!--</script>-->",""],"id":826,"ignore":true}],[{"start":{"row":8,"column":70},"end":{"row":8,"column":89},"action":"remove","lines":[", accept: \"image/*\""],"id":827,"ignore":true},{"start":{"row":58,"column":0},"end":{"row":70,"column":0},"action":"remove","lines":["          ","          <!--<img id=\"preview\" style=\"width:40%;\">-->","","          <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->","          <!--    reader.onload = function (e) {-->","          <!--        $(\"#preview\").attr('src', e.target.result);-->","          <!--    }-->","          <!--    reader.readAsDataURL(e.target.files[0]);-->","          <!--});-->","          <!--</script>-->",""]}],[{"start":{"row":8,"column":70},"end":{"row":8,"column":89},"action":"insert","lines":[", accept: \"image/*\""],"id":828,"ignore":true},{"start":{"row":58,"column":0},"end":{"row":70,"column":0},"action":"insert","lines":["          ","          <!--<img id=\"preview\" style=\"width:40%;\">-->","","          <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->","          <!--    reader.onload = function (e) {-->","          <!--        $(\"#preview\").attr('src', e.target.result);-->","          <!--    }-->","          <!--    reader.readAsDataURL(e.target.files[0]);-->","          <!--});-->","          <!--</script>-->",""]}],[{"start":{"row":8,"column":34},"end":{"row":8,"column":41},"action":"remove","lines":["illust_"],"id":829}],[{"start":{"row":57,"column":19},"end":{"row":70,"column":0},"action":"remove","lines":["","          ","          <!--<img id=\"preview\" style=\"width:40%;\">-->","","          <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->","          <!--    reader.onload = function (e) {-->","          <!--        $(\"#preview\").attr('src', e.target.result);-->","          <!--    }-->","          <!--    reader.readAsDataURL(e.target.files[0]);-->","          <!--});-->","          <!--</script>-->",""],"id":830}],[{"start":{"row":47,"column":10},"end":{"row":58,"column":0},"action":"remove","lines":["<img id=\"preview\" style=\"width:40%;\">","","          <script>","            $('#illust_image').on('change', function (e) {","              var reader = new FileReader();","              reader.onload = function (e) {","                  $(\"#preview\").attr('src', e.target.result);","              }","              reader.readAsDataURL(e.target.files[0]);","          });","          </script>",""],"id":831}],[{"start":{"row":47,"column":8},"end":{"row":47,"column":10},"action":"remove","lines":["  "],"id":832},{"start":{"row":47,"column":6},"end":{"row":47,"column":8},"action":"remove","lines":["  "]},{"start":{"row":47,"column":4},"end":{"row":47,"column":6},"action":"remove","lines":["  "]},{"start":{"row":47,"column":2},"end":{"row":47,"column":4},"action":"remove","lines":["  "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":46,"column":10},"end":{"row":48,"column":34},"action":"remove","lines":["","","          <!--IDを特定してーの後からプレビュー-->"],"id":833}],[{"start":{"row":52,"column":6},"end":{"row":53,"column":0},"action":"insert","lines":["",""],"id":834},{"start":{"row":53,"column":0},"end":{"row":54,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":48,"column":16},"end":{"row":49,"column":0},"action":"insert","lines":["",""],"id":835},{"start":{"row":49,"column":0},"end":{"row":49,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":49,"column":8},"end":{"row":60,"column":0},"action":"insert","lines":["<img id=\"preview\" style=\"width:40%;\">","","          <script>","            $('#illust_image').on('change', function (e) {","              var reader = new FileReader();","              reader.onload = function (e) {","                  $(\"#preview\").attr('src', e.target.result);","              }","              reader.readAsDataURL(e.target.files[0]);","          });","          </script>",""],"id":836}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":10},"action":"remove","lines":["          "],"id":837}],[{"start":{"row":49,"column":8},"end":{"row":49,"column":45},"action":"remove","lines":["<img id=\"preview\" style=\"width:40%;\">"],"id":838},{"start":{"row":49,"column":8},"end":{"row":53,"column":41},"action":"insert","lines":["<img id=\"preview_0\" style=\"width:15%;\">","  <img id=\"preview_1\" style=\"width:15%;\">","  <img id=\"preview_2\" style=\"width:15%;\">","  <img id=\"preview_3\" style=\"width:15%;\">","  <img id=\"preview_4\" style=\"width:15%;\">"]}],[{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "],"id":839},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "],"id":840},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "],"id":841},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":55,"column":10},"end":{"row":63,"column":19},"action":"remove","lines":["<script>","            $('#illust_image').on('change', function (e) {","              var reader = new FileReader();","              reader.onload = function (e) {","                  $(\"#preview\").attr('src', e.target.result);","              }","              reader.readAsDataURL(e.target.files[0]);","          });","          </script>"],"id":842},{"start":{"row":55,"column":10},"end":{"row":88,"column":9},"action":"insert","lines":["<script>","$('#product_product_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","       // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      alert('一度に投稿できるのは五枚までです。');","      $('#product_product_images_images').val = \"\";","","      // 画像のプレビューが残っている場合は、","      // リセットしないと『まだ選択できている』と勘違いを誘発するので初期化。","      for( var i = 0; i < 5; i++) {","        $('#preview_[i]').attr('src', \"\");","      }","","    }else{","      var reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( var i = 0; i < 5; i++) {","        $('#preview_[i]').attr('src', \"\");","      }","","      for(var i = 0; i < e.target.files.length; i++) {","          $('#post_image_[i]').on('change', function (e) {","              var reader = new FileReader();","              reader.onload = function (e) {","                  $('#preview_[i]').attr('src', e.target.result);","              }","              reader.readAsDataURL(e.target.files[i]);","          });","        }","      }","});","</script>"]}],[{"start":{"row":78,"column":17},"end":{"row":78,"column":18},"action":"remove","lines":["t"],"id":843},{"start":{"row":78,"column":16},"end":{"row":78,"column":17},"action":"remove","lines":["s"]},{"start":{"row":78,"column":15},"end":{"row":78,"column":16},"action":"remove","lines":["o"]},{"start":{"row":78,"column":14},"end":{"row":78,"column":15},"action":"remove","lines":["p"]}],[{"start":{"row":78,"column":14},"end":{"row":78,"column":15},"action":"insert","lines":["i"],"id":844},{"start":{"row":78,"column":15},"end":{"row":78,"column":16},"action":"insert","lines":["l"]},{"start":{"row":78,"column":16},"end":{"row":78,"column":17},"action":"insert","lines":["l"]},{"start":{"row":78,"column":17},"end":{"row":78,"column":18},"action":"insert","lines":["u"]},{"start":{"row":78,"column":18},"end":{"row":78,"column":19},"action":"insert","lines":["s"]},{"start":{"row":78,"column":19},"end":{"row":78,"column":20},"action":"insert","lines":["r"]}],[{"start":{"row":78,"column":19},"end":{"row":78,"column":20},"action":"remove","lines":["r"],"id":845}],[{"start":{"row":78,"column":19},"end":{"row":78,"column":20},"action":"insert","lines":["t"],"id":846}],[{"start":{"row":78,"column":14},"end":{"row":78,"column":20},"action":"remove","lines":["illust"],"id":847},{"start":{"row":78,"column":14},"end":{"row":78,"column":20},"action":"insert","lines":["illust"]}],[{"start":{"row":66,"column":8},"end":{"row":66,"column":25},"action":"remove","lines":["$('#preview_[i]')"],"id":848},{"start":{"row":66,"column":8},"end":{"row":66,"column":26},"action":"insert","lines":["$(`#preview_${i}`)"]}],[{"start":{"row":74,"column":8},"end":{"row":74,"column":25},"action":"remove","lines":["$('#preview_[i]')"],"id":849},{"start":{"row":74,"column":8},"end":{"row":74,"column":26},"action":"insert","lines":["$(`#preview_${i}`)"]}],[{"start":{"row":77,"column":6},"end":{"row":87,"column":3},"action":"remove","lines":["for(var i = 0; i < e.target.files.length; i++) {","          $('#illust_image_[i]').on('change', function (e) {","              var reader = new FileReader();","              reader.onload = function (e) {","                  $('#preview_[i]').attr('src', e.target.result);","              }","              reader.readAsDataURL(e.target.files[i]);","          });","        }","      }","});"],"id":850},{"start":{"row":77,"column":6},"end":{"row":81,"column":0},"action":"insert","lines":["for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e); ","        reader[i].readAsDataURL(e.target.files[i]);",""]}],[{"start":{"row":73,"column":6},"end":{"row":75,"column":7},"action":"remove","lines":["for( var i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }"],"id":851},{"start":{"row":73,"column":6},"end":{"row":75,"column":7},"action":"insert","lines":["for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }"]}],[{"start":{"row":80,"column":51},"end":{"row":81,"column":0},"action":"insert","lines":["",""],"id":852},{"start":{"row":81,"column":0},"end":{"row":81,"column":8},"action":"insert","lines":["        "]},{"start":{"row":81,"column":8},"end":{"row":82,"column":0},"action":"insert","lines":["",""]},{"start":{"row":82,"column":0},"end":{"row":82,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":82,"column":8},"end":{"row":89,"column":3},"action":"insert","lines":["function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});"],"id":853}],[{"start":{"row":92,"column":0},"end":{"row":93,"column":21},"action":"remove","lines":["","      <!--% end %>-->"],"id":854}],[{"start":{"row":55,"column":9},"end":{"row":91,"column":9},"action":"remove","lines":[" <script>","$('#product_product_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","       // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      alert('一度に投稿できるのは五枚までです。');","      $('#product_product_images_images').val = \"\";","","      // 画像のプレビューが残っている場合は、","      // リセットしないと『まだ選択できている』と勘違いを誘発するので初期化。","      for( var i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","    }else{","      var reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e); ","        reader[i].readAsDataURL(e.target.files[i]);","        ","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","","</script>"],"id":855},{"start":{"row":55,"column":9},"end":{"row":92,"column":9},"action":"insert","lines":["<script>","$('#product_product_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#product_product_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","    }else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e); ","        reader[i].readAsDataURL(e.target.files[i]);","","        // onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>"]}],[{"start":{"row":80,"column":41},"end":{"row":80,"column":42},"action":"remove","lines":[" "],"id":856}],[{"start":{"row":56,"column":4},"end":{"row":56,"column":11},"action":"remove","lines":["product"],"id":857},{"start":{"row":56,"column":4},"end":{"row":56,"column":10},"action":"insert","lines":["illust"]},{"start":{"row":56,"column":11},"end":{"row":56,"column":18},"action":"remove","lines":["product"]},{"start":{"row":56,"column":11},"end":{"row":56,"column":17},"action":"insert","lines":["illust"]},{"start":{"row":62,"column":10},"end":{"row":62,"column":17},"action":"remove","lines":["product"]},{"start":{"row":62,"column":10},"end":{"row":62,"column":16},"action":"insert","lines":["illust"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":24},"action":"remove","lines":["product"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":23},"action":"insert","lines":["illust"]}],[{"start":{"row":56,"column":11},"end":{"row":56,"column":12},"action":"insert","lines":["i"],"id":858}],[{"start":{"row":56,"column":12},"end":{"row":56,"column":13},"action":"insert","lines":["l"],"id":859},{"start":{"row":56,"column":13},"end":{"row":56,"column":14},"action":"insert","lines":["l"]},{"start":{"row":56,"column":14},"end":{"row":56,"column":15},"action":"insert","lines":["u"]},{"start":{"row":56,"column":15},"end":{"row":56,"column":16},"action":"insert","lines":["s"]},{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"insert","lines":["t"]}],[{"start":{"row":56,"column":17},"end":{"row":56,"column":18},"action":"insert","lines":["_"],"id":860}],[{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"insert","lines":["i"],"id":861},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"insert","lines":["l"]},{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["l"]},{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"insert","lines":["u"]},{"start":{"row":62,"column":21},"end":{"row":62,"column":22},"action":"insert","lines":["s"]},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["t"]}],[{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"insert","lines":["_"],"id":862}],[{"start":{"row":56,"column":17},"end":{"row":56,"column":18},"action":"remove","lines":["_"],"id":863},{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"remove","lines":["t"]},{"start":{"row":56,"column":15},"end":{"row":56,"column":16},"action":"remove","lines":["s"]},{"start":{"row":56,"column":14},"end":{"row":56,"column":15},"action":"remove","lines":["u"]},{"start":{"row":56,"column":13},"end":{"row":56,"column":14},"action":"remove","lines":["l"]},{"start":{"row":56,"column":12},"end":{"row":56,"column":13},"action":"remove","lines":["l"]},{"start":{"row":56,"column":11},"end":{"row":56,"column":12},"action":"remove","lines":["i"]}],[{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"remove","lines":["_"],"id":864},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"remove","lines":["t"]},{"start":{"row":62,"column":21},"end":{"row":62,"column":22},"action":"remove","lines":["s"]},{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"remove","lines":["u"]},{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"remove","lines":["l"]},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"remove","lines":["l"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"remove","lines":["i"]}],[{"start":{"row":46,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["","",""],"id":865,"ignore":true},{"start":{"row":46,"column":8},"end":{"row":46,"column":16},"action":"remove","lines":["</table>"]},{"start":{"row":46,"column":8},"end":{"row":46,"column":10},"action":"insert","lines":["  "]},{"start":{"row":47,"column":8},"end":{"row":48,"column":8},"action":"remove","lines":["<img id=\"preview_0\" style=\"width:15%;\">","        "]},{"start":{"row":47,"column":8},"end":{"row":47,"column":14},"action":"insert","lines":["  <!--"]},{"start":{"row":47,"column":30},"end":{"row":47,"column":32},"action":"remove","lines":["_1"]},{"start":{"row":47,"column":45},"end":{"row":47,"column":47},"action":"remove","lines":["15"]},{"start":{"row":47,"column":45},"end":{"row":47,"column":47},"action":"insert","lines":["40"]},{"start":{"row":47,"column":51},"end":{"row":48,"column":0},"action":"insert","lines":["-->",""]},{"start":{"row":49,"column":8},"end":{"row":65,"column":43},"action":"remove","lines":["<img id=\"preview_2\" style=\"width:15%;\">","        <img id=\"preview_3\" style=\"width:15%;\">","        <img id=\"preview_4\" style=\"width:15%;\">","","         <script>","$('#illust_illust_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#illust_illust_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");"]},{"start":{"row":49,"column":8},"end":{"row":51,"column":51},"action":"insert","lines":["  <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->"]},{"start":{"row":52,"column":6},"end":{"row":54,"column":0},"action":"remove","lines":["}","",""]},{"start":{"row":52,"column":10},"end":{"row":57,"column":0},"action":"remove","lines":["}else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {",""]},{"start":{"row":52,"column":10},"end":{"row":53,"column":15},"action":"insert","lines":["<!--    reader.onload = function (e) {-->","          <!-- "]},{"start":{"row":53,"column":22},"end":{"row":53,"column":23},"action":"remove","lines":[" "]},{"start":{"row":53,"column":24},"end":{"row":53,"column":25},"action":"remove","lines":["`"]},{"start":{"row":53,"column":24},"end":{"row":53,"column":25},"action":"insert","lines":["\""]},{"start":{"row":53,"column":33},"end":{"row":53,"column":39},"action":"remove","lines":["_${i}`"]},{"start":{"row":53,"column":33},"end":{"row":53,"column":34},"action":"insert","lines":["\""]},{"start":{"row":53,"column":48},"end":{"row":59,"column":3},"action":"remove","lines":["\"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e);","   "]},{"start":{"row":53,"column":48},"end":{"row":55,"column":14},"action":"insert","lines":["e.target.result);-->","          <!--    }-->","          <!--"]},{"start":{"row":55,"column":18},"end":{"row":55,"column":19},"action":"remove","lines":[" "]},{"start":{"row":55,"column":24},"end":{"row":55,"column":27},"action":"remove","lines":["[i]"]},{"start":{"row":55,"column":54},"end":{"row":55,"column":55},"action":"remove","lines":["i"]},{"start":{"row":55,"column":54},"end":{"row":55,"column":55},"action":"insert","lines":["0"]},{"start":{"row":55,"column":58},"end":{"row":67,"column":0},"action":"remove","lines":["","","        // onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>",""]},{"start":{"row":55,"column":58},"end":{"row":63,"column":21},"action":"insert","lines":["-->","          <!--});-->","          <!--</script>-->","","","          <!--IDを特定してーの後からプレビュー-->","","        </table>","      <!--% end %>-->"]},{"start":{"row":66,"column":6},"end":{"row":68,"column":0},"action":"remove","lines":["","",""]}],[{"start":{"row":46,"column":0},"end":{"row":47,"column":14},"action":"remove","lines":["          ","          <!--"],"id":866,"ignore":true},{"start":{"row":46,"column":0},"end":{"row":51,"column":8},"action":"insert","lines":["","","        </table>","        <img id=\"preview_0\" style=\"width:15%;\">","        <img id=\"preview_1\" style=\"width:15%;\">","        "]},{"start":{"row":51,"column":24},"end":{"row":51,"column":26},"action":"insert","lines":["_2"]},{"start":{"row":51,"column":41},"end":{"row":51,"column":43},"action":"remove","lines":["40"]},{"start":{"row":51,"column":41},"end":{"row":51,"column":43},"action":"insert","lines":["15"]},{"start":{"row":51,"column":47},"end":{"row":51,"column":50},"action":"remove","lines":["-->"]},{"start":{"row":51,"column":47},"end":{"row":52,"column":0},"action":"remove","lines":["",""]},{"start":{"row":52,"column":8},"end":{"row":54,"column":51},"action":"remove","lines":["  <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->"]},{"start":{"row":52,"column":8},"end":{"row":67,"column":43},"action":"insert","lines":["<img id=\"preview_3\" style=\"width:15%;\">","        <img id=\"preview_4\" style=\"width:15%;\">","","         <script>","$('#illust_illust_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#illust_illust_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");"]},{"start":{"row":68,"column":6},"end":{"row":70,"column":0},"action":"insert","lines":["}","",""]},{"start":{"row":70,"column":4},"end":{"row":71,"column":15},"action":"remove","lines":["<!--    reader.onload = function (e) {-->","          <!-- "]},{"start":{"row":70,"column":4},"end":{"row":75,"column":0},"action":"insert","lines":["}else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {",""]},{"start":{"row":75,"column":7},"end":{"row":75,"column":8},"action":"insert","lines":[" "]},{"start":{"row":75,"column":10},"end":{"row":75,"column":11},"action":"remove","lines":["\""]},{"start":{"row":75,"column":10},"end":{"row":75,"column":11},"action":"insert","lines":["`"]},{"start":{"row":75,"column":19},"end":{"row":75,"column":20},"action":"remove","lines":["\""]},{"start":{"row":75,"column":19},"end":{"row":75,"column":25},"action":"insert","lines":["_${i}`"]},{"start":{"row":75,"column":39},"end":{"row":77,"column":14},"action":"remove","lines":["e.target.result);-->","          <!--    }-->","          <!--"]},{"start":{"row":75,"column":39},"end":{"row":81,"column":4},"action":"insert","lines":["\"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e);","    "]},{"start":{"row":81,"column":14},"end":{"row":81,"column":17},"action":"insert","lines":["[i]"]},{"start":{"row":81,"column":47},"end":{"row":81,"column":48},"action":"remove","lines":["0"]},{"start":{"row":81,"column":47},"end":{"row":81,"column":48},"action":"insert","lines":["i"]},{"start":{"row":81,"column":51},"end":{"row":81,"column":54},"action":"remove","lines":["-->"]},{"start":{"row":81,"column":51},"end":{"row":82,"column":0},"action":"insert","lines":["",""]},{"start":{"row":83,"column":8},"end":{"row":90,"column":21},"action":"remove","lines":["  <!--});-->","          <!--</script>-->","","","          <!--IDを特定してーの後からプレビュー-->","","        </table>","      <!--% end %>-->"]},{"start":{"row":83,"column":8},"end":{"row":93,"column":0},"action":"insert","lines":["// onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>",""]},{"start":{"row":96,"column":6},"end":{"row":98,"column":0},"action":"insert","lines":["","",""]}],[{"start":{"row":46,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["","",""],"id":867,"ignore":true},{"start":{"row":46,"column":8},"end":{"row":46,"column":16},"action":"remove","lines":["</table>"]},{"start":{"row":46,"column":8},"end":{"row":46,"column":10},"action":"insert","lines":["  "]},{"start":{"row":47,"column":8},"end":{"row":48,"column":8},"action":"remove","lines":["<img id=\"preview_0\" style=\"width:15%;\">","        "]},{"start":{"row":47,"column":8},"end":{"row":47,"column":14},"action":"insert","lines":["  <!--"]},{"start":{"row":47,"column":30},"end":{"row":47,"column":32},"action":"remove","lines":["_1"]},{"start":{"row":47,"column":45},"end":{"row":47,"column":47},"action":"remove","lines":["15"]},{"start":{"row":47,"column":45},"end":{"row":47,"column":47},"action":"insert","lines":["40"]},{"start":{"row":47,"column":51},"end":{"row":48,"column":0},"action":"insert","lines":["-->",""]},{"start":{"row":49,"column":8},"end":{"row":65,"column":43},"action":"remove","lines":["<img id=\"preview_2\" style=\"width:15%;\">","        <img id=\"preview_3\" style=\"width:15%;\">","        <img id=\"preview_4\" style=\"width:15%;\">","","         <script>","$('#illust_illust_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#illust_illust_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");"]},{"start":{"row":49,"column":8},"end":{"row":51,"column":51},"action":"insert","lines":["  <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->"]},{"start":{"row":52,"column":6},"end":{"row":54,"column":0},"action":"remove","lines":["}","",""]},{"start":{"row":52,"column":10},"end":{"row":57,"column":0},"action":"remove","lines":["}else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {",""]},{"start":{"row":52,"column":10},"end":{"row":53,"column":15},"action":"insert","lines":["<!--    reader.onload = function (e) {-->","          <!-- "]},{"start":{"row":53,"column":22},"end":{"row":53,"column":23},"action":"remove","lines":[" "]},{"start":{"row":53,"column":24},"end":{"row":53,"column":25},"action":"remove","lines":["`"]},{"start":{"row":53,"column":24},"end":{"row":53,"column":25},"action":"insert","lines":["\""]},{"start":{"row":53,"column":33},"end":{"row":53,"column":39},"action":"remove","lines":["_${i}`"]},{"start":{"row":53,"column":33},"end":{"row":53,"column":34},"action":"insert","lines":["\""]},{"start":{"row":53,"column":48},"end":{"row":59,"column":3},"action":"remove","lines":["\"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e);","   "]},{"start":{"row":53,"column":48},"end":{"row":55,"column":14},"action":"insert","lines":["e.target.result);-->","          <!--    }-->","          <!--"]},{"start":{"row":55,"column":18},"end":{"row":55,"column":19},"action":"remove","lines":[" "]},{"start":{"row":55,"column":24},"end":{"row":55,"column":27},"action":"remove","lines":["[i]"]},{"start":{"row":55,"column":54},"end":{"row":55,"column":55},"action":"remove","lines":["i"]},{"start":{"row":55,"column":54},"end":{"row":55,"column":55},"action":"insert","lines":["0"]},{"start":{"row":55,"column":58},"end":{"row":67,"column":0},"action":"remove","lines":["","","        // onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>",""]},{"start":{"row":55,"column":58},"end":{"row":63,"column":21},"action":"insert","lines":["-->","          <!--});-->","          <!--</script>-->","","","          <!--IDを特定してーの後からプレビュー-->","","        </table>","      <!--% end %>-->"]},{"start":{"row":66,"column":6},"end":{"row":68,"column":0},"action":"remove","lines":["","",""]}],[{"start":{"row":46,"column":0},"end":{"row":47,"column":14},"action":"remove","lines":["          ","          <!--"],"id":868,"ignore":true},{"start":{"row":46,"column":0},"end":{"row":51,"column":8},"action":"insert","lines":["","","        </table>","        <img id=\"preview_0\" style=\"width:15%;\">","        <img id=\"preview_1\" style=\"width:15%;\">","        "]},{"start":{"row":51,"column":24},"end":{"row":51,"column":26},"action":"insert","lines":["_2"]},{"start":{"row":51,"column":41},"end":{"row":51,"column":43},"action":"remove","lines":["40"]},{"start":{"row":51,"column":41},"end":{"row":51,"column":43},"action":"insert","lines":["15"]},{"start":{"row":51,"column":47},"end":{"row":51,"column":50},"action":"remove","lines":["-->"]},{"start":{"row":51,"column":47},"end":{"row":52,"column":0},"action":"remove","lines":["",""]},{"start":{"row":52,"column":8},"end":{"row":54,"column":51},"action":"remove","lines":["  <!--<script>-->","          <!--  $('#illust_image').on('change', function (e) {-->","          <!--    var reader = new FileReader();-->"]},{"start":{"row":52,"column":8},"end":{"row":67,"column":43},"action":"insert","lines":["<img id=\"preview_3\" style=\"width:15%;\">","        <img id=\"preview_4\" style=\"width:15%;\">","","         <script>","$('#illust_illust_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#illust_illust_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");"]},{"start":{"row":68,"column":6},"end":{"row":70,"column":0},"action":"insert","lines":["}","",""]},{"start":{"row":70,"column":4},"end":{"row":71,"column":15},"action":"remove","lines":["<!--    reader.onload = function (e) {-->","          <!-- "]},{"start":{"row":70,"column":4},"end":{"row":75,"column":0},"action":"insert","lines":["}else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {",""]},{"start":{"row":75,"column":7},"end":{"row":75,"column":8},"action":"insert","lines":[" "]},{"start":{"row":75,"column":10},"end":{"row":75,"column":11},"action":"remove","lines":["\""]},{"start":{"row":75,"column":10},"end":{"row":75,"column":11},"action":"insert","lines":["`"]},{"start":{"row":75,"column":19},"end":{"row":75,"column":20},"action":"remove","lines":["\""]},{"start":{"row":75,"column":19},"end":{"row":75,"column":25},"action":"insert","lines":["_${i}`"]},{"start":{"row":75,"column":39},"end":{"row":77,"column":14},"action":"remove","lines":["e.target.result);-->","          <!--    }-->","          <!--"]},{"start":{"row":75,"column":39},"end":{"row":81,"column":4},"action":"insert","lines":["\"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e);","    "]},{"start":{"row":81,"column":14},"end":{"row":81,"column":17},"action":"insert","lines":["[i]"]},{"start":{"row":81,"column":47},"end":{"row":81,"column":48},"action":"remove","lines":["0"]},{"start":{"row":81,"column":47},"end":{"row":81,"column":48},"action":"insert","lines":["i"]},{"start":{"row":81,"column":51},"end":{"row":81,"column":54},"action":"remove","lines":["-->"]},{"start":{"row":81,"column":51},"end":{"row":82,"column":0},"action":"insert","lines":["",""]},{"start":{"row":83,"column":8},"end":{"row":90,"column":21},"action":"remove","lines":["  <!--});-->","          <!--</script>-->","","","          <!--IDを特定してーの後からプレビュー-->","","        </table>","      <!--% end %>-->"]},{"start":{"row":83,"column":8},"end":{"row":93,"column":0},"action":"insert","lines":["// onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>",""]},{"start":{"row":96,"column":6},"end":{"row":98,"column":0},"action":"insert","lines":["","",""]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":869}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["<%= render 'layouts/errors', obj: @illust %>",""],"id":870}],[{"start":{"row":0,"column":44},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":871}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":44},"action":"remove","lines":["<%= render 'layouts/errors', obj: @illust %>"],"id":872},{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["<%= render \"devise/shared/error_messages\", resource: @book %>",""]}],[{"start":{"row":0,"column":61},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":873}],[{"start":{"row":0,"column":57},"end":{"row":0,"column":58},"action":"remove","lines":["k"],"id":874},{"start":{"row":0,"column":56},"end":{"row":0,"column":57},"action":"remove","lines":["o"]},{"start":{"row":0,"column":55},"end":{"row":0,"column":56},"action":"remove","lines":["o"]},{"start":{"row":0,"column":54},"end":{"row":0,"column":55},"action":"remove","lines":["b"]}],[{"start":{"row":0,"column":54},"end":{"row":0,"column":55},"action":"insert","lines":["i"],"id":875},{"start":{"row":0,"column":55},"end":{"row":0,"column":56},"action":"insert","lines":["l"]},{"start":{"row":0,"column":56},"end":{"row":0,"column":57},"action":"insert","lines":["l"]},{"start":{"row":0,"column":57},"end":{"row":0,"column":58},"action":"insert","lines":["u"]},{"start":{"row":0,"column":58},"end":{"row":0,"column":59},"action":"insert","lines":["s"]},{"start":{"row":0,"column":59},"end":{"row":0,"column":60},"action":"insert","lines":["t"]}],[{"start":{"row":0,"column":54},"end":{"row":0,"column":60},"action":"remove","lines":["illust"],"id":876},{"start":{"row":0,"column":54},"end":{"row":0,"column":60},"action":"insert","lines":["illust"]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["<%= render \"devise/shared/error_messages\", resource: @illust %>",""],"id":878,"ignore":true}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["<%= render \"devise/shared/error_messages\", resource: @illust %>",""],"id":879,"ignore":true}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["<%= render \"devise/shared/error_messages\", resource: @illust %>",""],"id":880,"ignore":true},{"start":{"row":48,"column":8},"end":{"row":93,"column":0},"action":"remove","lines":["</table>","        <img id=\"preview_0\" style=\"width:15%;\">","        <img id=\"preview_1\" style=\"width:15%;\">","        <img id=\"preview_2\" style=\"width:15%;\">","        <img id=\"preview_3\" style=\"width:15%;\">","        <img id=\"preview_4\" style=\"width:15%;\">","","         <script>","$('#illust_illust_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#illust_illust_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","    }else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e);","        reader[i].readAsDataURL(e.target.files[i]);","","        // onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>",""]},{"start":{"row":48,"column":8},"end":{"row":51,"column":21},"action":"insert","lines":["  <!--IDを特定してーの後からプレビュー-->","","        </table>","      <!--% end %>-->"]},{"start":{"row":55,"column":0},"end":{"row":57,"column":0},"action":"remove","lines":["","",""]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["<%= render \"devise/shared/error_messages\", resource: @illust %>",""],"id":881,"ignore":true},{"start":{"row":49,"column":8},"end":{"row":52,"column":21},"action":"remove","lines":["  <!--IDを特定してーの後からプレビュー-->","","        </table>","      <!--% end %>-->"]},{"start":{"row":49,"column":8},"end":{"row":94,"column":0},"action":"insert","lines":["</table>","        <img id=\"preview_0\" style=\"width:15%;\">","        <img id=\"preview_1\" style=\"width:15%;\">","        <img id=\"preview_2\" style=\"width:15%;\">","        <img id=\"preview_3\" style=\"width:15%;\">","        <img id=\"preview_4\" style=\"width:15%;\">","","         <script>","$('#illust_illust_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#illust_illust_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","    }else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e);","        reader[i].readAsDataURL(e.target.files[i]);","","        // onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>",""]},{"start":{"row":98,"column":0},"end":{"row":100,"column":0},"action":"insert","lines":["","",""]}],[{"start":{"row":50,"column":8},"end":{"row":93,"column":9},"action":"remove","lines":["<img id=\"preview_0\" style=\"width:15%;\">","        <img id=\"preview_1\" style=\"width:15%;\">","        <img id=\"preview_2\" style=\"width:15%;\">","        <img id=\"preview_3\" style=\"width:15%;\">","        <img id=\"preview_4\" style=\"width:15%;\">","","         <script>","$('#illust_illust_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#illust_illust_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","    }else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e);","        reader[i].readAsDataURL(e.target.files[i]);","","        // onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>"],"id":882},{"start":{"row":50,"column":8},"end":{"row":93,"column":9},"action":"insert","lines":["<img id=\"preview_0\" style=\"width:15%;\">","<img id=\"preview_1\" style=\"width:15%;\">","<img id=\"preview_2\" style=\"width:15%;\">","<img id=\"preview_3\" style=\"width:15%;\">","<img id=\"preview_4\" style=\"width:15%;\">","","<script>","$('#product_product_images_images').on('change', function (e) {","","    if(e.target.files.length > 5){","","      alert('一度に投稿できるのは五枚までです。');","      // 五枚以上の画像を選択していた場合、選択したファイルをリセット。","      $('#product_product_images_images').val = \"\";","","      // 以前の画像のプレビューが残っていた場合は、","      // まだ画像選択できていると勘違いを誘発するため初期化。","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","    }else{","      let reader = new Array(5);","","      // 画像選択を二回した時、一回目より数が少なかったりすると画面上に残るので初期化","      for( let i = 0; i < 5; i++) {","        $(`#preview_${i}`).attr('src', \"\");","      }","","      for(let i = 0; i < e.target.files.length; i++) {","        reader[i] = new FileReader();","        reader[i].onload = finisher(i,e); ","        reader[i].readAsDataURL(e.target.files[i]);","","        // onloadは別関数で準備しないとfor文内では使用できないので、関数を準備。","        function finisher(i,e){","          return function(e){","          $(`#preview_${i}`).attr('src', e.target.result);","          }","        }","      }","   }","});","</script>"]}],[{"start":{"row":57,"column":4},"end":{"row":57,"column":11},"action":"remove","lines":["product"],"id":883},{"start":{"row":57,"column":4},"end":{"row":57,"column":10},"action":"insert","lines":["illust"]},{"start":{"row":57,"column":11},"end":{"row":57,"column":18},"action":"remove","lines":["product"]},{"start":{"row":57,"column":11},"end":{"row":57,"column":17},"action":"insert","lines":["illust"]},{"start":{"row":63,"column":10},"end":{"row":63,"column":17},"action":"remove","lines":["product"]},{"start":{"row":63,"column":10},"end":{"row":63,"column":16},"action":"insert","lines":["illust"]},{"start":{"row":63,"column":17},"end":{"row":63,"column":24},"action":"remove","lines":["product"]},{"start":{"row":63,"column":17},"end":{"row":63,"column":23},"action":"insert","lines":["illust"]}],[{"start":{"row":81,"column":41},"end":{"row":81,"column":42},"action":"remove","lines":[" "],"id":884}],[{"start":{"row":57,"column":18},"end":{"row":57,"column":25},"action":"remove","lines":["images_"],"id":887}],[{"start":{"row":63,"column":24},"end":{"row":63,"column":31},"action":"remove","lines":["images_"],"id":888}],[{"start":{"row":50,"column":41},"end":{"row":50,"column":43},"action":"remove","lines":["15"],"id":889},{"start":{"row":50,"column":41},"end":{"row":50,"column":43},"action":"insert","lines":["35"]},{"start":{"row":51,"column":33},"end":{"row":51,"column":35},"action":"remove","lines":["15"]},{"start":{"row":51,"column":33},"end":{"row":51,"column":35},"action":"insert","lines":["35"]},{"start":{"row":52,"column":33},"end":{"row":52,"column":35},"action":"remove","lines":["15"]},{"start":{"row":52,"column":33},"end":{"row":52,"column":35},"action":"insert","lines":["35"]},{"start":{"row":53,"column":33},"end":{"row":53,"column":35},"action":"remove","lines":["15"]},{"start":{"row":53,"column":33},"end":{"row":53,"column":35},"action":"insert","lines":["35"]},{"start":{"row":54,"column":33},"end":{"row":54,"column":35},"action":"remove","lines":["15"]},{"start":{"row":54,"column":33},"end":{"row":54,"column":35},"action":"insert","lines":["35"]}]]},"timestamp":1687769341315}